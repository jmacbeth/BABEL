# storygenerator
Code repository for the TRI-Smith College collaboration

## Installations

In order to run this program, you must install CLISP. You can install CLISP using Homebrew as follows. From terminal: 

```
$ brew install clisp
```

To ensure that CLISP was properly installed, try executing the command "clisp" from the Terminal. You should see the CLISP startup screen, and a "[1>]" prompt. Enter "(quit)" at the prompt to exit CLISP.

## Running MicroSAM

To run MicroSAM, run clisp, and once in the interpreter, run these lines (press return after each).

```
(load 'micro-sam)
(process-story restaurant-story)
```

You can alternatively run

```
(process-story kite-story)
```

To process the "kite" story instead.  The file "sam_trace.txt" contains 
a trace of the program running that includes a trace of function calls 
to better see how it works.

## Running BABEL

To run BABEL, from a CLISP, interpreter, run/evaluate these lines (press return after each).

```
(load 'surf)
(load 'prph)
```

Then you can run BABEL in "paraphrase mode":

```
(EXPRESS '(((CON
              ((ACTOR (JOHN)
                 <=> (*INGEST*)
                 TO (*INSIDE* PART (JOHN))
                 FROM (*MOUTH* PART (JOHN))
                 OBJECT (*AIR*))
                FOCUS ((ACTOR))
                MODE ((*CANNOT*))
                TIME (T-2))
              <≡
              ((ACTOR (JOHN)
                 <≡>T (*HEALTH*
                        VAL (-10)))
                TIME (T-2))))))
```

## Running BABEL with Script Combinator

To run a demo of BABEL evaluating a set of CD structures generated by the Script Combinator, perform the steps above for loading MicroSAM and BABEL.  Then load cd-translate.lisp, which has a function used to "translate" a CD structure in MicroSAM format to a CD structure in the BABEL format:


```
(load 'cd-translate)
```

Then evaluate the following expression, which uses cd-translate and express on a list of CD structures that came from the Script Combinator:


```
(mapcar #'(lambda (x) (express (cd-translate x)))
  '((PTRANS (ACTOR (JANE)) (OBJECT (JANE)) (TO (STORE)))
   (GRASP (ACTOR (JANE)) (OBJECT (HAND)) (TO (PLUG)))
   (PTRANS (ACTOR (JANE)) (OBJECT (PLUG)) (TO (OUTLET)))
   (PTRANS (ACTOR (JANE)) (OBJECT (SNACK)) (TO (JANE)))
   (ATRANS (ACTOR (STORE)) (OBJECT (SNACK)) (FROM (STORE)) (TO (JANE)))
   (ATRANS (ACTOR (JANE)) (OBJECT (MONEY)) (FROM (JANE)) (TO (STORE)))
   (PTRANS (ACTOR (JANE)) (OBJECT (JANE)) (FROM (STORE)) (TO NIL))
   (PTRANS (ACTOR (ELECTRICITY)) (OBJECT (ELECTRICITY)) (FROM (STATION)))))

```